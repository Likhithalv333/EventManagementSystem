<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration </title>
  <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
  <link rel="stylesheet" href="registraion.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <meta name="google-signin-client_id" content="239288406210-jnd264hd1jik4iuvngmphvt608rd8tm1.apps.googleusercontent.com">
</head>
<body>
  <div class="wrapper">
    <nav class="nav">
      <div class="nav-logo">
        <p>GatherUp </p>
      </div>
      <div class="nav-menu" id="navMenu">
        <ul>
          <li><a href="index.html" class="link">Home</a></li>
          <li><a href="#" class="link">Blog</a></li>
          <li><a href="#" class="link">Services</a></li>
          <li><a href="#" class="link">About</a></li>
          <li class="mob_li"> <a href="registraion.html" class="mob_li_a">Sign Up</a></li>
          <li class="mob_li"><a href="signin.html" class="mob_li_a">Sign in</a></li>
        </ul>
      </div>
      <div class="nav-button">
        <a href="registraion.html"><button class="btn" id="registerBtn">Sign Up</button></a>
        <a href="signin.html"><button class="btn" id="registerBtn">Sign in</button></a>
      </div>
      <div class="nav-menu-btn">
        <i class="bx bx-menu" onclick="myMenuFunction()"></i>
      </div>
    </nav>

    <div class="illustration">
      <p class="illu-quoat-heading">Let's Get You Started</p>
      <p class="illu-quoat-para">Select the category you fit in</p>
      <img src="images/Sign up-amico.svg" alt=" " >
    </div>
    <form id="registrationForm" onsubmit="registerUser(event)">
    <div class="form-box">
      <div class="login-container" id="login">
        <div class="top">
          <header>Sign Up</header>
        </div>
        <div class="two-forms">
          <div class="input-box">
            <input type="text" id="firstname" class="input-field" placeholder="Firstname" required>
            <i class="fa-solid fa-user"></i>
          </div>
          <div class="input-box">
            <input type="text"id="lastname" class="input-field" placeholder="Lastname" required>
            <i class="fa-solid fa-user"></i>
          </div>
        </div>
        <div class="input-box">
          <input type="text"id="email" class="input-field" placeholder="Email" required>
          <i class="fa-solid fa-at"></i>
        </div>
        <div class="input-box">
          <input type="number"id="phone" class="input-field" placeholder="Phone" required>
          <i class="fa-solid fa-phone"></i>
        </div>
        <div class="input-box">
          <select name="prof" id="prof" class="input-field" placeholder="proces" required>
            <option value="Profession">Profession</option>
            <option value="Student">Student</option>
            <option value="Teacher">Teacher</option>
            <option value="Worker">Worker</option>
          </select>
          <i class="fa-solid fa-user-tie"></i>
        </div>
        <div class="input-box">
          <input type="text" id="college" class="input-field" placeholder="college" required>
          <i class="fa-solid fa-graduation-cap"></i>
        </div>
        <div class="input-box">
          <input type="password" id="password" class="input-field" placeholder="Password" autocomplete="new-password" required>
          <i class="fa-solid fa-lock"></i>
        </div>
        <div class="input-box">
          <input type="password" id="confirmPassword" class="input-field" placeholder="Confirm Password" autocomplete="new-password" required> 

          <i class="fa-solid fa-lock"></i>
        </div>
        <div class="input-box">
          <button type="submit" class="submit" onclick="registerUser()">Register</button>
        </div>
      </form>
        <div class="two-col">
          <div class="one">
            <input type="checkbox" id="register-check">
            <label for="register-check"> Remember Me</label>
          </div>
          <div class="one">
            <a href="signin.html" class="dont-account">
              <span>Have an account?</span>
              <span class="dec-none">Login</span>
            </a>
          </div>
        </div>
        <!-- <div class="top">
          <a href="@{/oauth2/authorization/google}">

              Login with Google
              <i class="fab fa-google google"></i>
          </a> -->
      </div>
    
  </div>

  <script>

    function myMenuFunction() {
      var i = document.getElementById("navMenu");
      if (i.className === "nav-menu") {
        i.className += " responsive";
      } else {
        i.className = "nav-menu";
      }
    }

    function registerUser(event){
      event.preventDefault();
      console.log("hello")
      const formData = {
          firstname: document.getElementById('firstname').value,
          
          lastname: document.getElementById('lastname').value,
          email: document.getElementById('email').value,
          phone: document.getElementById('phone').value,
          profession: document.getElementById('prof').value,
          college: document.getElementById('college').value,
          password: document.getElementById('password').value,
          confirmPassword: document.getElementById('confirmPassword').value,
        };
        console.log("form data",formData.firstname);
         // Example: Validate form data (you should implement your own validation logic)
         if (formData.firstname.trim() === '' || formData.email.trim() === '' || formData.password.trim() === '') {
          alert('Please fill out required fields: Firstname, Email, and Password');
          return;
        }

        if (formData.password !== formData.confirmPassword) {
          alert('Passwords do not match');
          return;
        }
        console.log("likhitha");
          // Example: Send formData to server (you should implement your server-side logic)
          fetch('http://localhost:7001/api/register', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify(formData),
})
.then(response => {
  if (!response.ok) {
    throw new Error('Network response was not ok');
  }
  return response.text();
})
.then(data => {
  console.log('Success:', data);
  alert("registerdSuccessfully")
  // Handle success response as needed
  window.open('home.html', '_self');
})
.catch(error => {
  console.error('Error:', error);
  // Handle error response or network error
  alert("user already exits...use another mail..")
});
    }
    

    function googleSignIn() {
      gapi.load('auth2', function() {
        var auth2 = gapi.auth2.init({
          client_id: '239288406210-jnd264hd1jik4iuvngmphvt608rd8tm1.apps.googleusercontent.com' 
        });

        auth2.signIn().then(function() {
          var profile = auth2.currentUser.get().getBasicProfile();
          console.log('Logged in as: ' + profile.getName());
          // You can add further logic here like sending the user data to your server
        }, function(error) {
          console.error('Google Sign-In Error: ' + error);
        });
      });
    }
  </script>

  <style>
    .top a {
      display: block;
      text-align: center;
      margin-top: 10px;
    }

    .google {
      font-size: 26px; /* Adjust as needed */
      color: black; /* Change color to black */
    }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
</body>
</html>